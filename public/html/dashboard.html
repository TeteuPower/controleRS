<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - Sistema de Empréstimos</title>
    <link rel="stylesheet" href="../css/global.css">
    <link rel="stylesheet" href="../css/dashboard.css">
</head>
<body>
    <div id="cabecalho"></div>
    <div class="container">
        <h1>Dashboard do Vendedor</h1>

        <div class="dashboard-section">
            <h2>Empréstimos Diários</h2>
            <div class="filter-container">
                <label for="filtro-diarios">Filtrar por Status:</label>
                <select id="filtro-diarios">
                    <option value="">Todos</option>
                    <option value="atrasado">Atrasados</option>
                    <option value="aguardando">Aguardando</option>
                    <option value="ativo">Ativos</option>
                </select>
            </div>
            <div id="emprestimos-diarios-container">
                <!-- Empréstimos diários serão listados aqui -->
            </div>
        </div>

        <div class="dashboard-section">
            <h2>Empréstimos Mensais</h2>
            <div class="filter-container">
                <label for="filtro-mensais">Filtrar por Status:</label>
                <select id="filtro-mensais">
                    <option value="">Todos</option>
                    <option value="atrasado">Atrasados</option>
                    <option value="aguardando">Aguardando</option>
                    <option value="ativo">Ativos</option>
                </select>
            </div>
            <div id="emprestimos-mensais-container">
                <!-- Empréstimos mensais serão listados aqui -->
            </div>
        </div>

        <!-- Modal para escolher o número de parcelas -->
        <div id="modal-parcelas" class="modal">
            <div class="modal-content">
                <span class="close">×</span>
                <h2>Quantas Parcelas?</h2>
                <input type="hidden" id="id-emprestimo" name="id-emprestimo">
                <input type="number" id="parcelas" name="parcelas" min="1" required>
                <button id="btn-confirmar-pagamento">Confirmar</button>
            </div>
        </div>

        <!-- Modal diminuir empréstimo mensal -->
        <div id="modal-mensal" class="modal">
            <div class="modal-content">
                <span class="close">×</span>
                <h2 class = "modal-title">Parcialmente ou total?</h2>
                <input type="hidden" id="id-emprestimo" name="id-emprestimo">
                <input type="hidden" id="total-emprestimo" name="id-emprestimo">
                <div class = "botoes-modal">
                <button id="btn-confirmar-mensal">Deduzir parcialmente da dívida total</button>
                <button id="btn-quitar-mensal">Finalizar</button>
                </div>
            </div>
        </div>

        <!-- Modal para quitar empréstimo mensal -->
        <div id="modal-mensal-quitar" class="modal">
            <div class="modal-content">
                <span class="close">×</span>
                <h2>Confirmar Abatimento</h2>
                <p>Não se esqueça de cobrar os juros correspondentes até o dia de hoje.</p>
                <input type="hidden" id="id-emprestimo" name="id-emprestimo">
                <input type="hidden" id="total-emprestimo-quitar" name="tipo-emprestimo">
                <div class="input-group">
                    <label for="valor-pago-quitar">Valor Pago (R$):</label>
                    <input type="number" id="valor-pago-quitar" name="valor-pago" readonly>
                </div>
                <button id="btn-registrar-pagamento-quitar">Registrar Pagamento</button>
            </div>
        </div>

        <!-- Modal para abater um empréstimo mensal -->
        <div id="modal-mensal-abater" class="modal">
            <div class="modal-content">
                <span class="close">×</span>
                <h2>Confirmar Abatimento</h2>
                <p>A nova parcela será calculada em cima do novo valor do empréstimo! Cobre os juros correspondentes até o dia de hoje.</p>
                <input type="hidden" id="id-emprestimo" name="id-emprestimo">
                <input type="hidden" id="total-emprestimo-abater" name="tipo-emprestimo">
                <div class="input-group">
                    <label for="valor-pago-abater">Valor Pago de abatimento (R$):</label>
                    <input type="number" id="valor-pago-abater" name="valor-pago">
                </div>
                <button id="btn-registrar-pagamento-abater">Registrar abatimento</button>
            </div>
        </div>

        <!-- Modal para confirmar o pagamento -->
        <div id="modal-pagamento" class="modal">
            <div class="modal-content">
                <span class="close">×</span>
                <h2>Confirmar Pagamento</h2>
                <input type="hidden" id="id-emprestimo" name="id-emprestimo">
                <input type="hidden" id="tipo-emprestimo" name="tipo-emprestimo">
                <div class="input-group">
                    <label for="valor-pago">Valor Pago (R$):</label>
                    <input type="number" id="valor-pago" name="valor-pago" readonly>
                </div>
                <button id="btn-registrar-pagamento">Registrar Pagamento</button> 
            </div>
        </div>

        <div class="dashboard-section">
            <h2>Ações</h2>
            <ul>
                <li><button id="btn-atualizar-status">Atualizar Status Manualmente</button></li>
                <li><a href="cadastrar-cliente.html">Cadastrar Novo Cliente</a></li>
                <li><a href="cadastrar-emprestimo.html">Cadastrar Novo Empréstimo</a></li>
                <li><a href="registrar-pagamento.html">Registrar Pagamento</a></li>
                <li><a href="mudar-senha.html">Mudar Senha</a></li>
                <li><a href="mudar-usuario.html">Mudar Usuário</a></li>
            </ul>
        </div>
    </div>
    <div id="hora-servidor" class="hora-servidor"></div>

    <script src="../js/funcoes.js"></script>
    <script src="../js/dashboard.js"></script>
</body>
</html>